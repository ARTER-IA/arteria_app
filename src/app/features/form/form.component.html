<form [formGroup]="newForm">
  <div class="form-container">
    <p-card header="Personal Information" [style]="{ width: '100%' }">
      <div class="flex flex-column md:flex-row">
        <!-- First Column -->
        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="input-group">
            <label for="firstName">First Name</label>
            <input
              type="text"
              pInputText
              formControlName="firstName"
              id="firstName"
              name="firstName"
              class="w-full"
            />
          </div>
          <div class="input-group">
            <label for="age">Age</label>
            <input
              type="text"
              pInputText
              formControlName="age"
              id="age"
              name="age"
              class="w-full"
            />
          </div>
        </div>

        <div class="w-full md:w-1"></div>

        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="input-group">
            <label for="lastName">Last Name</label>
            <input
              type="text"
              pInputText
              formControlName="lastName"
              id="lastName"
              name="lastName"
              class="w-full"
            />
          </div>
          <div class="input-group">
            <label for="sex">Gender</label>
            <input
              type="text"
              pInputText
              formControlName="sex"
              id="sex"
              name="sex"
              class="w-full"
            />
          </div>
        </div>

        <div class="w-full md:w-1"></div>

        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="input-group">
            <label for="length">Length</label>
            <input
              type="text"
              pInputText
              formControlName="length"
              id="length"
              name="length"
              class="w-full"
            />
          </div>
          <div class="input-group">
            <label for="bloodGroup">Blood Group</label>
            <input
              type="text"
              pInputText
              formControlName="bloodGroup"
              id="bloodGroup"
              name="bloodGroup"
              class="w-full"
            />
          </div>
        </div>

        <div class="w-full md:w-1"></div>

        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="input-group">
            <label for="weight">Weight</label>
            <input
              type="text"
              pInputText
              formControlName="weight"
              id="weight"
              name="weight"
              class="w-full"
            />
          </div>
          <div class="input-group">
            <label for="bmi">BMI</label>
            <input
              type="text"
              pInputText
              formControlName="bmi"
              id="bmi"
              name="bmi"
              class="w-full"
            />
          </div>
        </div>
      </div>
    </p-card>

    <p-card header="Medical Conditions" [style]="{ width: '100%' }">
      <div class="flex flex-column md:flex-row">
        <!-- First Column -->
        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="flex align-items-center gap-1">
            <p-checkbox
              [binary]="true"
              inputId="dm"
              (onChange)="onCheckboxChange($event, 'dm')"
            ></p-checkbox>
            <label for="dm" class="p-checkbox-label">Diabetes Mellitus</label>
          </div>
          <div class="flex align-items-center gap-1">
            <p-checkbox
              [binary]="true"
              inputId="htn"
              (onChange)="onCheckboxChange($event, 'htn')"
            ></p-checkbox>
            <label for="htn" class="p-checkbox-label">Hypertension</label>
          </div>
        </div>

        <div class="w-full md:w-1"></div>

        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="flex align-items-center gap-1">
            <p-checkbox
              [binary]="true"
              inputId="current_Smoker"
              (onChange)="onCheckboxChange($event, 'current_Smoker')"
            ></p-checkbox>
            <label for="current_Smoker" class="p-checkbox-label"
              >Current Smoker</label
            >
          </div>
          <div class="flex align-items-center gap-1">
            <p-checkbox
              [binary]="true"
              inputId="ex_Smoker"
              (onChange)="onCheckboxChange($event, 'ex_Smoker')"
            ></p-checkbox>
            <label for="ex_Smoker" class="p-checkbox-label">Ex Smoker</label>
          </div>
        </div>

        <div class="w-full md:w-1"></div>

        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="flex align-items-center gap-1">
            <p-checkbox
              [binary]="true"
              inputId="fh"
              (onChange)="onCheckboxChange($event, 'fh')"
            ></p-checkbox>
            <label for="fh" class="p-checkbox-label">Family History</label>
          </div>
          <div class="flex align-items-center gap-1">
            <p-checkbox
              [binary]="true"
              inputId="obesity"
              (onChange)="onCheckboxChange($event, 'obesity')"
            ></p-checkbox>
            <label for="obesity" class="p-checkbox-label">Obesity</label>
          </div>
        </div>

        <div class="w-full md:w-1"></div>

        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="flex align-items-center gap-1">
            <p-checkbox
              [binary]="true"
              inputId="cva"
              (onChange)="onCheckboxChange($event, 'cva')"
            ></p-checkbox>
            <label for="cva" class="p-checkbox-label"
              >Cerebrovascular Accident</label
            >
          </div>
          <div class="flex align-items-center gap-1">
            <p-checkbox
              [binary]="true"
              inputId="thyroid_Disease"
              (onChange)="onCheckboxChange($event, 'thyroid_Disease')"
            ></p-checkbox>
            <label for="thyroid_Disease" class="p-checkbox-label"
              >Thyroid Disease</label
            >
          </div>
        </div>
      </div>
    </p-card>

    <p-card header="Risk Factors" [style]="{ width: '100%' }">
      <div class="flex flex-column md:flex-row">
        <!-- First Column -->
        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="input-group">
            <label for="bp">Blood Pressure mm Hg</label>
            <input
              type="text"
              pInputText
              formControlName="bp"
              id="bp"
              name="bp"
              class="w-full"
            />
            <small
              *ngIf="
                newForm.controls.bp.invalid &&
                (newForm.controls.bp.dirty || newForm.controls.bp.touched)
              "
              class="block p-error"
            >
              <div *ngIf="newForm.controls.bp.errors?.['required']">
                BP es requerido
              </div>
              <div *ngIf="newForm.controls.bp.errors?.['pattern']">
                Ingrese un BP válido
              </div>
            </small>
          </div>
          <div class="input-group">
            <label for="pr">Pulse Rate ppm</label>
            <input
              type="text"
              pInputText
              formControlName="pr"
              id="pr"
              name="pr"
              class="w-full"
            />
            <small
              *ngIf="
                newForm.controls.pr.invalid &&
                (newForm.controls.pr.dirty || newForm.controls.pr.touched)
              "
              class="block p-error"
            >
              <div *ngIf="newForm.controls.pr.errors?.['required']">
                PR es requerido
              </div>
              <div *ngIf="newForm.controls.pr.errors?.['pattern']">
                Ingrese un PR válido
              </div>
            </small>
          </div>
        </div>

        <div class="w-full md:w-1"></div>

        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="input-group">
            <label for="weak_Peripheral_Pulse">Weak Peripheral Pulse</label>
            <input
              type="text"
              pInputText
              formControlName="weak_Peripheral_Pulse"
              id="weak_Peripheral_Pulse"
              name="weak_Peripheral_Pulse"
              class="w-full"
            />
            <small
              *ngIf="
                newForm.controls.weak_Peripheral_Pulse.invalid &&
                (newForm.controls.weak_Peripheral_Pulse.dirty ||
                  newForm.controls.weak_Peripheral_Pulse.touched)
              "
              class="block p-error"
            >
              <div
                *ngIf="newForm.controls.weak_Peripheral_Pulse.errors?.['required']"
              >
                Weak Peripheral Pulse es requerido
              </div>
              <div
                *ngIf="newForm.controls.weak_Peripheral_Pulse.errors?.['pattern']"
              >
                Ingrese un Weak Peripheral Pulse válido
              </div>
            </small>
          </div>
          <div class="input-group">
            <label for="tg">Triglyceride mg/dL</label>
            <input
              type="text"
              pInputText
              formControlName="tg"
              id="tg"
              name="tg"
              class="w-full"
            />
            <small
              *ngIf="
                newForm.controls.tg.invalid &&
                (newForm.controls.tg.dirty || newForm.controls.tg.touched)
              "
              class="block p-error"
            >
              <div *ngIf="newForm.controls.tg.errors?.['required']">
                TG es requerido
              </div>
              <div *ngIf="newForm.controls.tg.errors?.['pattern']">
                Ingrese un TG válido
              </div>
            </small>
          </div>
        </div>

        <div class="w-full md:w-1"></div>

        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="input-group">
            <label for="ldl">Low-density Lipoprotein mg/dL</label>
            <input
              type="text"
              pInputText
              formControlName="ldl"
              id="ldl"
              name="ldl"
              class="w-full"
            />
            <small
              *ngIf="
                newForm.controls.ldl.invalid &&
                (newForm.controls.ldl.dirty || newForm.controls.ldl.touched)
              "
              class="block p-error"
            >
              <div *ngIf="newForm.controls.ldl.errors?.['required']">
                LDL es requerido
              </div>
              <div *ngIf="newForm.controls.ldl.errors?.['pattern']">
                Ingrese un LDL válido
              </div>
            </small>
          </div>
          <div class="input-group">
            <label for="hdl">High-density Lipoprotein mg/dL</label>
            <input
              type="text"
              pInputText
              formControlName="hdl"
              id="hdl"
              name="hdl"
              class="w-full"
            />
            <small
              *ngIf="
                newForm.controls.hdl.invalid &&
                (newForm.controls.hdl.dirty || newForm.controls.hdl.touched)
              "
              class="block p-error"
            >
              <div *ngIf="newForm.controls.hdl.errors?.['required']">
                HDL es requerido
              </div>
              <div *ngIf="newForm.controls.hdl.errors?.['pattern']">
                Ingrese un HDL válido
              </div>
            </small>
          </div>
        </div>

        <div class="w-full md:w-1"></div>

        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="input-group">
            <label for="hb">Hemoglobin g/dL</label>
            <input
              type="text"
              pInputText
              formControlName="hb"
              id="hb"
              name="hb"
              class="w-full"
            />
            <small
              *ngIf="
                newForm.controls.hb.invalid &&
                (newForm.controls.hb.dirty || newForm.controls.hb.touched)
              "
              class="block p-error"
            >
              <div *ngIf="newForm.controls.hb.errors?.['required']">
                HB es requerido
              </div>
              <div *ngIf="newForm.controls.hb.errors?.['pattern']">
                Ingrese un HB válido
              </div>
            </small>
          </div>
        </div>
      </div>
    </p-card>

    <p-card header="Electrocardiogram" [style]="{ width: '100%' }">
      <div class="flex flex-column md:flex-row">
        <!-- First Column -->
        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="input-group">
            <label for="q_Wave">Q Wave</label>
            <p-dropdown
              formControlName="q_Wave"
              [options]="consentOptions"
              optionLabel="label"
              placeholder="Select Yes or No"
              class="w-full"
            ></p-dropdown>
            <small
              *ngIf="
                newForm.controls.q_Wave.invalid &&
                (newForm.controls.q_Wave.dirty ||
                  newForm.controls.q_Wave.touched)
              "
              class="block p-error"
            >
              Debes seleccionar una opción válida.
            </small>
          </div>
          <div class="input-group">
            <label for="st_Elevation">St Elevation</label>
            <p-dropdown
              formControlName="st_Elevation"
              [options]="consentOptions"
              optionLabel="label"
              placeholder="Select Yes or No"
              class="w-full"
            ></p-dropdown>
            <small
              *ngIf="
                newForm.controls.st_Elevation.invalid &&
                (newForm.controls.st_Elevation.dirty ||
                  newForm.controls.st_Elevation.touched)
              "
              class="block p-error"
            >
              Debes seleccionar una opción válida.
            </small>
          </div>
        </div>

        <div class="w-full md:w-1"></div>

        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="input-group">
            <label for="st_Depression">St Depression</label>
            <p-dropdown
              formControlName="st_Depression"
              [options]="consentOptions"
              optionLabel="label"
              placeholder="Select Yes or No"
              class="w-full"
            ></p-dropdown>
            <small
              *ngIf="
                newForm.controls.st_Depression.invalid &&
                (newForm.controls.st_Depression.dirty ||
                  newForm.controls.st_Depression.touched)
              "
              class="block p-error"
            >
              Debes seleccionar una opción válida.
            </small>
          </div>
          <div class="input-group">
            <label for="tinversion">T Inversion</label>
            <p-dropdown
              formControlName="tinversion"
              [options]="consentOptions"
              optionLabel="label"
              placeholder="Select Yes or No"
              class="w-full"
            ></p-dropdown>
            <small
              *ngIf="
                newForm.controls.tinversion.invalid &&
                (newForm.controls.tinversion.dirty ||
                  newForm.controls.tinversion.touched)
              "
              class="block p-error"
            >
              Debes seleccionar una opción válida.
            </small>
          </div>
        </div>

        <div class="w-full md:w-1"></div>

        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="input-group">
            <label for="lvh">Left Ventricular Hypertrophy</label>
            <p-dropdown
              formControlName="lvh"
              [options]="consentOptions"
              optionLabel="label"
              placeholder="Select Yes or No"
              class="w-full"
            ></p-dropdown>
            <small
              *ngIf="
                newForm.controls.lvh.invalid &&
                (newForm.controls.lvh.dirty || newForm.controls.lvh.touched)
              "
              class="block p-error"
            >
              Debes seleccionar una opción válida.
            </small>
          </div>
          <div class="input-group">
            <label for="poor_R_Progression">Poor R-wave Progression</label>
            <p-dropdown
              formControlName="poor_R_Progression"
              [options]="consentOptions"
              optionLabel="label"
              placeholder="Select Yes or No"
              class="w-full"
            ></p-dropdown>
            <small
              *ngIf="
                newForm.controls.poor_R_Progression.invalid &&
                (newForm.controls.poor_R_Progression.dirty ||
                  newForm.controls.poor_R_Progression.touched)
              "
              class="block p-error"
            >
              Debes seleccionar una opción válida.
            </small>
          </div>
        </div>
      </div>
    </p-card>

    <div class="flex flex-wrap justify-content-center align-items-center">
      <p-button
        label="Register"
        styleClass="w-10rem mx-auto"
        [disabled]="newForm.invalid"
        (click)="onSubmit()"
      ></p-button>
    </div>
  </div>
</form>
