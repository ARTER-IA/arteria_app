<form [formGroup]="newForm">
  <div class="form-container">
    <p-card header="Información Personal" [style]="{ width: '100%' }">
      <div class="flex flex-column md:flex-row">
        <!-- First Column -->
        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="input-group">
            <label for="firstName">Nombre</label>
            <input
              type="text"
              pInputText
              formControlName="firstName"
              id="firstName"
              name="firstName"
              class="w-full"
              style="background-color: #f5f5f5"
              readonly
            />
          </div>
          <div class="input-group">
            <label for="age">Edad</label>
            <input
              type="text"
              pInputText
              formControlName="age"
              id="age"
              name="age"
              class="w-full"
              style="background-color: #f5f5f5"
              readonly
            />
          </div>
        </div>

        <div class="w-full md:w-1"></div>

        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="input-group">
            <label for="lastName">Apellido</label>
            <input
              type="text"
              pInputText
              formControlName="lastName"
              id="lastName"
              name="lastName"
              class="w-full"
              style="background-color: #f5f5f5"
              readonly
            />
          </div>
          <div class="input-group">
            <label for="sex">Género</label>
            <!--<input
              type="text"
              pInputText
              formControlName="sex"
              id="sex"
              name="sex"
              class="w-full"
              style="background-color: #f5f5f5"
              readonly
            />-->
            <p-dropdown 
              formControlName="sex" 
              [options]="genders" 
              optionLabel="name" 
              id="sex"
              name="sex" 
              class="w-full"
              readonly
            />
          </div>
        </div>

        <div class="w-full md:w-1"></div>

        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="input-group">
            <label for="length">Altura</label>
            <input
              type="text"
              pInputText
              formControlName="length"
              id="length"
              name="length"
              class="w-full"
              style="background-color: #f5f5f5"
              readonly
            />
          </div>
          <div class="input-group">
            <label for="bloodGroup">Grupo sanguíneo</label>
            <input
              type="text"
              pInputText
              formControlName="bloodGroup"
              id="bloodGroup"
              name="bloodGroup"
              class="w-full"
              style="background-color: #f5f5f5"
              readonly
            />
          </div>
        </div>

        <div class="w-full md:w-1"></div>

        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="input-group">
            <label for="weight">Peso</label>
            <input
              type="text"
              pInputText
              formControlName="weight"
              id="weight"
              name="weight"
              class="w-full"
              style="background-color: #f5f5f5"
              readonly
            />
          </div>
          <div class="input-group">
            <label for="bmi">IMC</label>
            <input
              type="text"
              pInputText
              formControlName="bmi"
              id="bmi"
              name="bmi"
              class="w-full"
              style="background-color: #f5f5f5"
              readonly
            />
          </div>
        </div>
      </div>
    </p-card>

    <p-card header="Condiciones Médicas" [style]="{ width: '100%' }">
      <div class="flex flex-column md:flex-row">
        <!-- First Column -->
        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="flex align-items-center gap-1">
            <p-checkbox
              [binary]="true"
              inputId="dm"
              (onChange)="onCheckboxChange($event, 'dm')"
            ></p-checkbox>
            <label for="dm" class="p-checkbox-label">Diabetes Mellitus</label>
          </div>
          <div class="flex align-items-center gap-1">
            <p-checkbox
              [binary]="true"
              inputId="htn"
              (onChange)="onCheckboxChange($event, 'htn')"
            ></p-checkbox>
            <label for="htn" class="p-checkbox-label">Hipertensión</label>
          </div>
        </div>

        <div class="w-full md:w-1"></div>

        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="flex align-items-center gap-1">
            <p-checkbox
              [binary]="true"
              inputId="current_Smoker"
              (onChange)="onCheckboxChange($event, 'current_Smoker')"
            ></p-checkbox>
            <label for="current_Smoker" class="p-checkbox-label"
              >Fumador actual</label
            >
          </div>
          <div class="flex align-items-center gap-1">
            <p-checkbox
              [binary]="true"
              inputId="ex_Smoker"
              (onChange)="onCheckboxChange($event, 'ex_Smoker')"
            ></p-checkbox>
            <label for="ex_Smoker" class="p-checkbox-label">Ex Fumador</label>
          </div>
        </div>

        <div class="w-full md:w-1"></div>

        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="flex align-items-center gap-1">
            <p-checkbox
              [binary]="true"
              inputId="fh"
              (onChange)="onCheckboxChange($event, 'fh')"
            ></p-checkbox>
            <label for="fh" class="p-checkbox-label">Historia familiar</label>
          </div>
          <div class="flex align-items-center gap-1">
            <p-checkbox
              [binary]="true"
              inputId="obesity"
              (onChange)="onCheckboxChange($event, 'obesity')"
            ></p-checkbox>
            <label for="obesity" class="p-checkbox-label">Obesidad</label>
          </div>
        </div>

        <div class="w-full md:w-1"></div>

        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="flex align-items-center gap-1">
            <p-checkbox
              [binary]="true"
              inputId="cva"
              (onChange)="onCheckboxChange($event, 'cva')"
            ></p-checkbox>
            <label for="cva" class="p-checkbox-label"
              >Accidente cerebrovascular</label
            >
          </div>
          <div class="flex align-items-center gap-1">
            <p-checkbox
              [binary]="true"
              inputId="thyroid_Disease"
              (onChange)="onCheckboxChange($event, 'thyroid_Disease')"
            ></p-checkbox>
            <label for="thyroid_Disease" class="p-checkbox-label"
              >Enfermedad de la tiroides</label
            >
          </div>
        </div>
      </div>
    </p-card>

    <p-card header="Factores de Riesgo" [style]="{ width: '100%' }">
      <div class="flex flex-column md:flex-row">
        <!-- First Column -->
        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="input-group">
            <label for="bp">Presión arterial mm Hg</label>
            <input
              type="text"
              pInputText
              formControlName="bp"
              id="bp"
              name="bp"
              class="w-full"
            />
            <small
              *ngIf="
                newForm.controls.bp.invalid &&
                (newForm.controls.bp.dirty || newForm.controls.bp.touched)
              "
              class="block p-error"
            >
              <div *ngIf="newForm.controls.bp.errors?.['required']">
                Presión arterial es requerido
              </div>
              <div *ngIf="newForm.controls.bp.errors?.['pattern']">
                Ingrese una presión arterial válido
              </div>
            </small>
          </div>
          <div class="input-group">
            <label for="pr">Frecuencia del pulso ppm</label>
            <input
              type="text"
              pInputText
              formControlName="pr"
              id="pr"
              name="pr"
              class="w-full"
            />
            <small
              *ngIf="
                newForm.controls.pr.invalid &&
                (newForm.controls.pr.dirty || newForm.controls.pr.touched)
              "
              class="block p-error"
            >
              <div *ngIf="newForm.controls.pr.errors?.['required']">
                Frecuencia del pulso es requerido
              </div>
              <div *ngIf="newForm.controls.pr.errors?.['pattern']">
                Ingrese una frecuencia del pulso válido
              </div>
            </small>
          </div>
        </div>

        <div class="w-full md:w-1"></div>

        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="input-group">
            <label for="hb">Hemoglobina g/dL</label>
            <input
              type="text"
              pInputText
              formControlName="hb"
              id="hb"
              name="hb"
              class="w-full"
            />
            <small
              *ngIf="
                newForm.controls.hb.invalid &&
                (newForm.controls.hb.dirty || newForm.controls.hb.touched)
              "
              class="block p-error"
            >
              <div *ngIf="newForm.controls.hb.errors?.['required']">
                Hemoglobina es requerido
              </div>
              <div *ngIf="newForm.controls.hb.errors?.['pattern']">
                Ingrese un valo de Hemoglobina válido
              </div>
            </small>
          </div>
          <div class="input-group">
            <label for="tg">Triglicérido mg/dL</label>
            <input
              type="text"
              pInputText
              formControlName="tg"
              id="tg"
              name="tg"
              class="w-full"
            />
            <small
              *ngIf="
                newForm.controls.tg.invalid &&
                (newForm.controls.tg.dirty || newForm.controls.tg.touched)
              "
              class="block p-error"
            >
              <div *ngIf="newForm.controls.tg.errors?.['required']">
                Triglicérido es requerido
              </div>
              <div *ngIf="newForm.controls.tg.errors?.['pattern']">
                Ingrese un triglicérido válido
              </div>
            </small>
          </div>
        </div>

        <div class="w-full md:w-1"></div>

        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="input-group">
            <label for="ldl">LDL mg/dL</label>
            <input
              type="text"
              pInputText
              formControlName="ldl"
              id="ldl"
              name="ldl"
              class="w-full"
            />
            <small
              *ngIf="
                newForm.controls.ldl.invalid &&
                (newForm.controls.ldl.dirty || newForm.controls.ldl.touched)
              "
              class="block p-error"
            >
              <div *ngIf="newForm.controls.ldl.errors?.['required']">
                Lipoproteína de baja densidad es requerido
              </div>
              <div *ngIf="newForm.controls.ldl.errors?.['pattern']">
                Ingrese un valor de Lipoproteína de baja densidad válido
              </div>
            </small>
          </div>
          <div class="input-group">
            <label for="hdl">HDL mg/dL</label>
            <input
              type="text"
              pInputText
              formControlName="hdl"
              id="hdl"
              name="hdl"
              class="w-full"
            />
            <small
              *ngIf="
                newForm.controls.hdl.invalid &&
                (newForm.controls.hdl.dirty || newForm.controls.hdl.touched)
              "
              class="block p-error"
            >
              <div *ngIf="newForm.controls.hdl.errors?.['required']">
                Lipoproteína de alta densidad es requerido
              </div>
              <div *ngIf="newForm.controls.hdl.errors?.['pattern']">
                Ingrese un valor Lipoproteína de alta densidad válido
              </div>
            </small>
          </div>
        </div>

        <div class="w-full md:w-1"></div>

        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="input-group">
            <label for="weak_Peripheral_Pulse">Pulso periférico débil</label>
            <p-dropdown
              formControlName="weak_Peripheral_Pulse"
              [options]="consentOptions"
              optionLabel="label"
              placeholder="Seleccione Si o No"
              class="w-full"
            ></p-dropdown>
            <small
              *ngIf="
                newForm.controls.weak_Peripheral_Pulse.invalid &&
                (newForm.controls.weak_Peripheral_Pulse.dirty ||
                  newForm.controls.weak_Peripheral_Pulse.touched)
              "
              class="block p-error"
            >
              Debes seleccionar una opción válida.
            </small>
          </div>
        </div>
      </div>
    </p-card>

    <p-card header="Electrocardiograma" [style]="{ width: '100%' }">
      <div class="flex flex-column md:flex-row">
        <!-- First Column -->
        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="input-group">
            <label for="q_Wave">Onda Q</label>
            <p-dropdown
              formControlName="q_Wave"
              [options]="consentOptions"
              optionLabel="label"
              placeholder="Seleccione Si o No"
              class="w-full"
            ></p-dropdown>
            <small
              *ngIf="
                newForm.controls.q_Wave.invalid &&
                (newForm.controls.q_Wave.dirty ||
                  newForm.controls.q_Wave.touched)
              "
              class="block p-error"
            >
              Debes seleccionar una opción válida.
            </small>
          </div>
          <div class="input-group">
            <label for="st_Elevation">Elevación de Segmento ST</label>
            <p-dropdown
              formControlName="st_Elevation"
              [options]="consentOptions"
              optionLabel="label"
              placeholder="Seleccione Si o No"
              class="w-full"
            ></p-dropdown>
            <small
              *ngIf="
                newForm.controls.st_Elevation.invalid &&
                (newForm.controls.st_Elevation.dirty ||
                  newForm.controls.st_Elevation.touched)
              "
              class="block p-error"
            >
              Debes seleccionar una opción válida.
            </small>
          </div>
        </div>

        <div class="w-full md:w-1"></div>

        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="input-group">
            <label for="st_Depression">Depresión del segmento ST</label>
            <p-dropdown
              formControlName="st_Depression"
              [options]="consentOptions"
              optionLabel="label"
              placeholder="Seleccione Si o No"
              class="w-full"
            ></p-dropdown>
            <small
              *ngIf="
                newForm.controls.st_Depression.invalid &&
                (newForm.controls.st_Depression.dirty ||
                  newForm.controls.st_Depression.touched)
              "
              class="block p-error"
            >
              Debes seleccionar una opción válida.
            </small>
          </div>
          <div class="input-group">
            <label for="tinversion">Inversión T</label>
            <p-dropdown
              formControlName="tinversion"
              [options]="consentOptions"
              optionLabel="label"
              placeholder="Seleccione Si o No"
              class="w-full"
            ></p-dropdown>
            <small
              *ngIf="
                newForm.controls.tinversion.invalid &&
                (newForm.controls.tinversion.dirty ||
                  newForm.controls.tinversion.touched)
              "
              class="block p-error"
            >
              Debes seleccionar una opción válida.
            </small>
          </div>
        </div>

        <div class="w-full md:w-1"></div>

        <div class="w-full md:w-6 flex flex-column gap-3">
          <div class="input-group">
            <label for="lvh">Hipertrofia ventricular izquierda</label>
            <p-dropdown
              formControlName="lvh"
              [options]="consentOptions"
              optionLabel="label"
              placeholder="Seleccione Si o No"
              class="w-full"
            ></p-dropdown>
            <small
              *ngIf="
                newForm.controls.lvh.invalid &&
                (newForm.controls.lvh.dirty || newForm.controls.lvh.touched)
              "
              class="block p-error"
            >
              Debes seleccionar una opción válida.
            </small>
          </div>
          <div class="input-group">
            <label for="poor_R_Progression"
              >Mala progresión de la onda R
            </label>
            <p-dropdown
              formControlName="poor_R_Progression"
              [options]="consentOptions"
              optionLabel="label"
              placeholder="Seleccione Si o No"
              class="w-full"
            ></p-dropdown>
            <small
              *ngIf="
                newForm.controls.poor_R_Progression.invalid &&
                (newForm.controls.poor_R_Progression.dirty ||
                  newForm.controls.poor_R_Progression.touched)
              "
              class="block p-error"
            >
              Debes seleccionar una opción válida.
            </small>
          </div>
        </div>
      </div>
    </p-card>

    <div class="flex flex-wrap justify-content-center align-items-center">
      <p-button
        label="Registrar"
        styleClass="w-10rem mx-auto"
        [disabled]="newForm.invalid"
        (click)="onSubmit()"
      ></p-button>
    </div>
  </div>
</form>
