<div class="container">
    <form [formGroup]="searchForm">
        <div class="flex flex-wrap align-items-center justify-content-between">
            <div class="search-bar p-input-icon-left m-2">
                <i class="pi pi-search"></i>
                <input type="text" pInputText placeholder="Search by name" formControlName="selectedName"
                    class="search-input">
            </div>
            <div class="filters-container">
                <p-toolbar>
                    <div class="p-toolbar-group-start flex flex-column align-items-center md:align-items-start">
                        <label for="filters" class="filters-label">FILTERS</label>
                        <div class="filters-group flex flex-wrap justify-content-center md:justify-content-start">
                            <p-dropdown formControlName="selectedGenre" [options]="genders" optionLabel="name"
                                placeholder="Select a genre" class="mr-2" />
                            <input type="number" pInputText placeholder="Enter age" formControlName="selectedAge"
                                class="mr-2">
                            <input type="number" pInputText placeholder="Enter CAD percent"
                                formControlName="selectedCADPercent" class="mr-2">
                            <p-button label="Clear filters" icon="pi pi-times" class="clear-filters-button"
                                [rounded]="true" (click)="clearFilters()"></p-button>
                        </div>
                    </div>
                </p-toolbar>
            </div>
        </div>
        <br>
    </form>
    <div class="card patient-cards">
        <div *ngFor="let patient of filteredPatients" class="col-12 md:col-4">
            <p-card header="{{patient.name}}" subheader="DNI: {{patient.dni}}" class="text-center"
                [style]="{ border: '1px solid #d4d2e3', borderRadius: '15px' }">
                <ng-template pTemplate="header">
                    <p-avatar icon="pi pi-user" styleClass="mr-2" size="xlarge"
                        [style]="{ 'background-color': '#f2f1fa', color: '#5d5a88', 'margin-top': '2rem' }" />
                </ng-template>
                <p>Gender: {{patient.gender}}</p>
                <p>Age: {{patient.age}}</p>
                <ng-template pTemplate="footer">
                    <p-button label="Profile" icon="pi pi-book" styleClass="w-8rem mx-auto" [rounded]="true"
                        (click)="selectPatient(patient)"></p-button>
                </ng-template>
            </p-card>
        </div>
    </div>
</div>